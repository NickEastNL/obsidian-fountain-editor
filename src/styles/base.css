/*
Adapted from
[Screenplay Format: Everything You Need to Know - NFI](https://www.nfi.edu/screenplay-format/)
[Screenplay Format Guide: Margin Settings - Story SenseÂ®](https://www.storysense.com/format/margins.htm)
But ahh, still looks weird. I'm eyeballing values based on comparing the styling with images of printed-out familiar screenplays
*/

.mod-cm6.fountain {
	/*
	"max" width is to expand to the maximum width of the editor (default)
	This means we need wider margins/line widths

	"min" width is to constrain to the width of formatted Fountain screenplays (triggered with `cssclasses` of either `fountain-left` or `fountain-center`)
	This means we need narrower margins/line widths

	We follow a practice where CSS Variables with a second set of double-hyphens denote that these are variables that users can tweak;
	whereas if there's only one set of double-hyphens (which are always at the beginning), then these are internally used/calculated variables that shou
	*/

	--fountain--line-width-min: 6in;

	--fountain--margins-base-max: 1.4in;
	--fountain--margins-base-min: 1in;
	--fountain--margins-base: var(--fountain--margins-base-max);

	--fountain--character-left-factor: 1.8;
	--fountain--character-right-factor: 1.6;
	--fountain--dialogue-left-factor: 1;
	--fountain--dialogue-right-factor: 1;
	--fountain--parenthesis-left-factor: 1.3;
	--fountain--parenthesis-right-factor: 1.5;

	--fountain--font-family: "Courier Prime", "Courier New", "Courier",
		monospace;
}

.cm-contentContainer {
	--fountain-character-left: calc(
		var(--fountain--margins-base) * var(--fountain--character-left-factor)
	);
	--fountain-character-right: calc(
		var(--fountain--margins-base) * var(--fountain--character-right-factor)
	);
	--fountain-dialogue-left: calc(
		var(--fountain--margins-base) * var(--fountain--dialogue-left-factor)
	);
	--fountain-dialogue-right: calc(
		var(--fountain--margins-base) * var(--fountain--dialogue-right-factor)
	);
	--fountain-parenthesis-left: calc(
		var(--fountain--margins-base) * var(--fountain--parenthesis-left-factor)
	);
	--fountain-parenthesis-right: calc(
		var(--fountain--margins-base) *
			var(--fountain--parenthesis-right-factor)
	);
}

/* ------------------------------ editor width ------------------------------ */

/* * unconstrained: no styles */

.mod-cm6.fountain.fountain-left .cm-contentContainer {
	/* * left unconstrained */
	--fountain--margins-base: var(--fountain--margins-base-min);
	max-width: var(--fountain--line-width-min);
}
.mod-cm6.fountain.fountain-center .cm-contentContainer {
	/* * centered constrained */
	--fountain--margins-base: var(--fountain--margins-base-min);
	width: var(--fountain--line-width-min);
	margin-inline: auto;
}
